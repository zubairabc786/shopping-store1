(()=>{var e={};e.id=277,e.ids=[277],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},19904:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>x,tree:()=>c}),t(28491),t(85904),t(30429),t(48642),t(54864);var s=t(23191),a=t(88716),i=t(37922),o=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let c=["",{children:["(ecommerce)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,28491)),"D:\\Shoping Store Next.Js with zubair\\ecommerce\\src\\app\\(ecommerce)\\dashboard\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,85904)),"D:\\Shoping Store Next.Js with zubair\\ecommerce\\src\\app\\(ecommerce)\\dashboard\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,30429)),"D:\\Shoping Store Next.Js with zubair\\ecommerce\\src\\app\\(ecommerce)\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,48642)),"D:\\Shoping Store Next.Js with zubair\\ecommerce\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,54864)),"D:\\Shoping Store Next.Js with zubair\\ecommerce\\src\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["D:\\Shoping Store Next.Js with zubair\\ecommerce\\src\\app\\(ecommerce)\\dashboard\\page.jsx"],u="/(ecommerce)/dashboard/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(ecommerce)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82187:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,79404,23)),Promise.resolve().then(t.bind(t,134))},28491:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(19510),a=t(71159),i=t(57371),o=t(47165);let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));c.displayName="CardTitle";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let u=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("p-6 pt-0",e),...r}));u.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter";var p=t(44096),x=t(42),m=t(44388),h=t(73593),f=t(58585);let g=async()=>{let e=await (0,h.getSession)();e?.user?.role!=="ADMIN"&&(0,f.redirect)("/"),console.log("Session=",e?.user?.role);let[r,t,a,o,g]=await p.Z?.$transaction([p.Z?.user?.findMany(),p.Z?.user?.count(),p.Z?.order?.findMany({include:{OrderItem:{include:{product:!0}},addressInfo:!0},orderBy:{createdAt:"desc"}}),p.Z?.order?.findMany(),p.Z.order.findMany({take:6,skip:0,include:{OrderItem:{include:{product:!0}},addressInfo:!0},orderBy:{createdAt:"desc"}})]),b=o?.reduce((e,r)=>e+r.total,0);console.log("orders=",b);let v=e=>{let r=new Date(e),t=r.getFullYear(),s=`0${r.getMonth()+1}`?.slice(-2);return`${t}-${s}`};if(a?.length){let e=a?.reduce((e,r)=>{let t=v(r.createdAt),s=r.OrderItem?.reduce((e,r)=>e+r?.product?.price*r.quantity,0);return e[t]||(e[t]=0),e[t]+=s,e});Object?.entries(e).map(([e,r])=>({x:e,y:r}))}return r?.reduce((e,r)=>{let t=r.createdAt.getMonth();return e[t]=(e[t]||0)+1,e},{}),(0,s.jsxs)("div",{className:"w-full p-8 bg-white",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-6 w-full",children:[(0,s.jsxs)(n,{className:"col-span-1 bg-[#eff3fe]",children:[(0,s.jsxs)(d,{children:[s.jsx(c,{children:"Users"}),(0,s.jsxs)(l,{children:[" ",t," | Total Visited Users"]})]}),s.jsx(u,{children:s.jsx(i.default,{href:"/dashboard/users",children:s.jsx(x.z,{className:"text-blue-600 border-blue-600 bg-slate-300",children:"View Details"})})})]}),(0,s.jsxs)(n,{className:"col-span-1 bg-[#eff3fe]",children:[(0,s.jsxs)(d,{children:[s.jsx(c,{children:"Orders"}),(0,s.jsxs)(l,{children:[a?.length," | Total Orders"]})]}),s.jsx(u,{children:s.jsx(i.default,{href:"/dashboard/orders",children:s.jsx(x.z,{className:"text-blue-600 border-blue-600 bg-slate-300",children:"View Details"})})})]}),(0,s.jsxs)(n,{className:"col-span-1 bg-[#eff3fe]",children:[(0,s.jsxs)(d,{children:[s.jsx(c,{children:"Sales"}),(0,s.jsxs)(l,{children:["Rs-",b," | Total Revenue"," "]})]}),s.jsx(u,{children:s.jsx(i.default,{href:"/dashboard/orders",children:s.jsx(x.z,{className:"text-blue-600 border-blue-600 bg-slate-300",children:"View Details"})})})]})]}),s.jsx("h1",{className:"text-3xl mt-6  text-center text-gray-900 font-bold",children:"Latest Transaction"}),s.jsx(m.ZP,{orders:g}),";"]})}},42:(e,r,t)=>{"use strict";t.d(r,{z:()=>c});var s=t(19510),a=t(71159),i=t(43025),o=t(60791),n=t(47165);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...o},c)=>{let l=a?i.g7:"button";return s.jsx(l,{className:(0,n.cn)(d({variant:r,size:t,className:e})),ref:c,...o})});c.displayName="Button"},47165:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(55761),a=t(62386);function i(...e){return(0,a.m6)((0,s.W)(e))}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,126,950,438,729,674,243,683,324,803,819,399,430,590,274],()=>t(19904));module.exports=s})();