(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3920],{7679:function(e,t,l){Promise.resolve().then(l.bind(l,4930))},6916:function(e,t,l){"use strict";var a=l(7437),r=l(6463);t.default=e=>{let{count:t}=e,l=(0,r.useSearchParams)(),{replace:s}=(0,r.useRouter)(),n=(0,r.usePathname)(),i=l.get("page")||1,d=new URLSearchParams(l),o=12*(parseInt(i)-1)>0,c=12*(parseInt(i)-1)+12<t,u=e=>{"prev"===e?d.set("page",parseInt(i)-1):d.set("page",parseInt(i)+1),s("".concat(n,"?").concat(d))};return(0,a.jsxs)("div",{className:" flex items-center gap-8 mb-[5%]",children:[(0,a.jsx)("button",{className:"bg-redDark hover:bg-redLight px-6 py-2 rounded-lg text-white text-base font-bold",disabled:!o,onClick:()=>u("prev"),children:"Previous"}),(0,a.jsx)("button",{className:"bg-redDark hover:bg-redLight px-12 py-2 rounded-lg text-white text-base font-bold",disabled:!c,onClick:()=>u("next"),children:"Next"})]})}},4930:function(e,t,l){"use strict";l.d(t,{default:function(){return O}});var a=l(7437),r=l(2200),s=l(5094),n=l(9343),i=l(2265),d=l(1538),o=l(8214),c=l(3277);let u=n.RV,m=i.createContext({}),h=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},children:(0,a.jsx)(n.Qr,{...t})})},x=()=>{let e=i.useContext(m),t=i.useContext(p),{getFieldState:l,formState:a}=(0,n.Gc)(),r=l(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:s}=t;return{id:s,name:e.name,formItemId:"".concat(s,"-form-item"),formDescriptionId:"".concat(s,"-form-item-description"),formMessageId:"".concat(s,"-form-item-message"),...r}},p=i.createContext({}),f=i.forwardRef((e,t)=>{let{className:l,...r}=e,s=i.useId();return(0,a.jsx)(p.Provider,{value:{id:s},children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",l),...r})})});f.displayName="FormItem",i.forwardRef((e,t)=>{let{className:l,...r}=e,{error:s,formItemId:n}=x();return(0,a.jsx)(c._,{ref:t,className:(0,o.cn)(s&&"text-destructive",l),htmlFor:n,...r})}).displayName="FormLabel";let g=i.forwardRef((e,t)=>{let{...l}=e,{error:r,formItemId:s,formDescriptionId:n,formMessageId:i}=x();return(0,a.jsx)(d.g7,{ref:t,id:s,"aria-describedby":r?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!r,...l})});g.displayName="FormControl",i.forwardRef((e,t)=>{let{className:l,...r}=e,{formDescriptionId:s}=x();return(0,a.jsx)("p",{ref:t,id:s,className:(0,o.cn)("text-sm text-muted-foreground",l),...r})}).displayName="FormDescription",i.forwardRef((e,t)=>{let{className:l,children:r,...s}=e,{error:n,formMessageId:i}=x(),d=n?String(null==n?void 0:n.message):r;return d?(0,a.jsx)("p",{ref:t,id:i,className:(0,o.cn)("text-sm font-medium text-destructive",l),...s,children:d}):null}).displayName="FormMessage";var j=l(556),v=l(7549),N=l(2421),w=l(4392),b=l(2468);let y=v.fC;v.ZA;let C=v.B4,R=i.forwardRef((e,t)=>{let{className:l,children:r,...s}=e;return(0,a.jsxs)(v.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...s,children:[r,(0,a.jsx)(v.JO,{asChild:!0,children:(0,a.jsx)(N.Z,{className:"h-4 w-4 opacity-50"})})]})});R.displayName=v.xz.displayName;let S=i.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(v.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",l),...r,children:(0,a.jsx)(w.Z,{className:"h-4 w-4"})})});S.displayName=v.u_.displayName;let k=i.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(v.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",l),...r,children:(0,a.jsx)(N.Z,{className:"h-4 w-4"})})});k.displayName=v.$G.displayName;let I=i.forwardRef((e,t)=>{let{className:l,children:r,position:s="popper",...n}=e;return(0,a.jsx)(v.h_,{children:(0,a.jsxs)(v.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:s,...n,children:[(0,a.jsx)(S,{}),(0,a.jsx)(v.l_,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(k,{})]})})});I.displayName=v.VY.displayName,i.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(v.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",l),...r})}).displayName=v.__.displayName;let V=i.forwardRef((e,t)=>{let{className:l,children:r,...s}=e;return(0,a.jsxs)(v.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(v.wU,{children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(v.eT,{children:r})]})});V.displayName=v.ck.displayName,i.forwardRef((e,t)=>{let{className:l,...r}=e;return(0,a.jsx)(v.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",l),...r})}).displayName=v.Z0.displayName;var F=e=>{let{label:t,id:l,placeholder:r,control:s,list:n}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[t?(0,a.jsx)(c._,{htmlFor:l,className:"text-xs font-semibold text-neutral-700",children:t}):null,(0,a.jsx)(h,{control:s,name:l,render:e=>{let{field:t}=e;return(0,a.jsx)(f,{children:(0,a.jsxs)(y,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(g,{children:(0,a.jsx)(R,{children:(0,a.jsx)(C,{placeholder:r})})}),(0,a.jsx)(I,{children:null==n?void 0:n.map((e,t)=>(0,a.jsx)(V,{value:e.id,children:e.name},t))})]})})}})]})})},Z=l(6991),_=l(35),P=l(2435),E=l(3610);l(7138);var M=e=>{let{children:t,product:l}=e,d=(0,i.useRef)(),[o,c]=(0,i.useState)([]),[m,h]=(0,i.useState)([]),x=(0,n.cI)();console.log(null==l?void 0:l.id),(0,i.useEffect)(()=>{(null==l?void 0:l.images)&&h(l.images),p()},[]);let p=async()=>{c((await (0,Z.C)()).result)},f=async e=>{let t=x.getValues().categoryId||l.categoryId,a=await (0,E.ep)(e,m,t,null==l?void 0:l.id);if(console.log(a),a.result){var r;null===(r=d.current)||void 0===r||r.reset(),(0,P.Am)({title:"Product successfully Added"})}else(0,P.Am)({title:"Product Not Created"})};return(0,a.jsxs)(s.Vq,{children:[(0,a.jsx)(s.hg,{asChild:!0,children:(0,a.jsx)(r.z,{variant:"outline",children:t})}),(0,a.jsxs)(s.cZ,{className:"sm:max-w-[425px] bg-white",children:[(0,a.jsxs)(s.fK,{children:[(0,a.jsx)(s.$N,{children:t}),(0,a.jsx)(s.Be,{children:"Make changes to your profile here. Click save when you're done."})]}),(0,a.jsx)(u,{...x,children:(0,a.jsxs)("form",{action:f,ref:d,children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4 bg-white",children:[(0,a.jsx)(j.Z,{id:"name",label:"Name",placeholder:"full name",type:"text",defaultValue:(null==l?void 0:l.name)||"",className:"h-10"}),(0,a.jsx)(j.Z,{id:"description",label:"Description",placeholder:"Enter Description",type:"text",defaultValue:(null==l?void 0:l.description)||"",className:"h-10"}),(0,a.jsx)(j.Z,{id:"price",label:"Price",placeholder:"Enter Price",type:"number",defaultValue:(null==l?void 0:l.price)||"",className:"h-10"}),(0,a.jsx)(j.Z,{id:"sku",label:"SKU",placeholder:"Enter Sku",type:"text",defaultValue:(null==l?void 0:l.sku)||"",className:"h-10"}),(0,a.jsx)(j.Z,{id:"stock",label:"Stock",placeholder:"Enter Stock value",type:"number",defaultValue:(null==l?void 0:l.stock)||"",className:"h-10"}),(0,a.jsx)(j.Z,{id:"weight",label:"Weight",placeholder:"Enter Weight",type:"number",defaultValue:(null==l?void 0:l.weight)||"",className:"h-10"}),(0,a.jsx)(F,{id:"categoryId",label:"Select Category",placeholder:"Select Category",list:o,control:x.control}),(null==m?void 0:m.length)?(0,a.jsx)("div",{className:"flex items-center gap-2",children:null==m?void 0:m.map((e,t)=>(0,a.jsx)("div",{children:(0,a.jsx)("img",{src:(null==e?void 0:e.url)||e,alt:"",className:"h-16 w-16"})},t))}):(0,a.jsx)(_.O,{endpoint:"imageUploader",appearance:{button:"ut-uploading:cursor-not-allowed  bg-slate-600 w-full text-xl after:bg-orange-400 max-w-[700px]",allowedContent:"hidden"},onClientUploadComplete:e=>{h(e)},onUploadError:e=>{alert("ERROR ".concat(e.message))}})]}),(0,a.jsx)(s.cN,{children:(0,a.jsx)(s.GG,{asChild:!0,children:(0,a.jsx)(r.z,{type:"submit",children:"Save Changes"})})})]})})]})]})},z=l(6083),D=l(3514),G=l(4175),K=l(6900),U=l(6916),A=l(7147),$=l(1623);let L=[{accessorKey:"name",header:"Full Name",cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"capitalize",children:t.getValue("name")})}},{accessorKey:"description",header:e=>{let{column:t}=e;return(0,a.jsxs)(r.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Description",(0,a.jsx)(K.Z,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"lowercase",children:t.getValue("description")})}},{accessorKey:"price",header:"Price",cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"capitalize",children:t.getValue("price")})}},{accessorKey:"image",header:e=>{let{column:t}=e;return(0,a.jsxs)(r.z,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["Image",(0,a.jsx)(K.Z,{className:"ml-2 h-4 w-4"})]})},cell:e=>{var t,l;let{row:r}=e;return console.log(null==r?void 0:null===(t=r.original)||void 0===t?void 0:t.image),(0,a.jsx)("img",{src:null==r?void 0:null===(l=r.original)||void 0===l?void 0:l.images[0],className:"w-20 aspect-square object-cover"})}},{accessorKey:"categoryId",header:()=>(0,a.jsx)("div",{className:"text-center",children:"Category Id"}),cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"text-right font-medium",children:t.getValue("categoryId")})}},{id:"actions",header:"Actions",cell:e=>{var t;let{row:l}=e;return(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)(M,{product:null==l?void 0:l.original,children:"Update"}),(0,a.jsx)(z.Z,{itemId:null==l?void 0:null===(t=l.original)||void 0===t?void 0:t.id,table:"product",children:"Delete"})]})}}];var O=e=>{var t,l,r;let{productList:s,count:n}=e,[d,o]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[m,h]=(0,i.useState)({}),[x,p]=(0,i.useState)({}),f=(0,D.b7)({data:s,columns:L,onSortingChange:o,onColumnFiltersChange:u,getCoreRowModel:(0,G.sC)(),getPaginationRowModel:(0,G.G_)(),getSortedRowModel:(0,G.tj)(),getFilteredRowModel:(0,G.vL)(),onColumnVisibilityChange:h,onRowSelectionChange:p,state:{sorting:d,columnFilters:c,columnVisibility:m,rowSelection:x}});return(0,a.jsxs)("div",{className:"w-full px-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,a.jsx)(A.I,{placeholder:"Filter emails...",value:null!==(r=null===(t=f.getColumn("email"))||void 0===t?void 0:t.getFilterValue())&&void 0!==r?r:"",onChange:e=>{var t;return null===(t=f.getColumn("email"))||void 0===t?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"}),(0,a.jsx)(M,{children:"New Product"})]}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)($.iA,{children:[(0,a.jsx)($.xD,{children:f.getHeaderGroups().map(e=>(0,a.jsx)($.SC,{children:e.headers.map(e=>(0,a.jsx)($.ss,{children:e.isPlaceholder?null:(0,D.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)($.RM,{children:(null===(l=f.getRowModel().rows)||void 0===l?void 0:l.length)?f.getRowModel().rows.map(e=>(0,a.jsx)($.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)($.pj,{children:(0,D.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)($.SC,{children:(0,a.jsx)($.pj,{colSpan:L.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,a.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[f.getFilteredSelectedRowModel().rows.length," of"," ",f.getFilteredRowModel().rows.length," row(s) selected."]}),(0,a.jsx)(U.default,{count:n})]})]})}},3610:function(e,t,l){"use strict";l.d(t,{a3:function(){return r},ep:function(){return s},t9:function(){return n}}),l(4590);var a=l(8064),r=(0,a.$)("9345326d15d744a7ba4f06b659e5e48e495f3cd4"),s=(0,a.$)("c77ff72b42060c4ca2efea77788d54db7b551599"),n=(0,a.$)("e3b9846072acf6a769894810219164a2e9fa9043")}},function(e){e.O(0,[2373,231,7557,7683,7402,4506,5608,9029,4411,9363,2971,7023,1744],function(){return e(e.s=7679)}),_N_E=e.O()}]);